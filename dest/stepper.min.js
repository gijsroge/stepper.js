"use strict";!function(t){t.fn.stepper=function(s){var i=void 0,e=function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},n=function(t){return(t.split(".")[1]||[]).length},a=function(){return""===t(this).val()?0:t(this).val()},r=function(){var s=t(this).closest(".js-spinner"),n=e()?"touchstart":"mousedown",a=this;s.find("[spinner-button]").on(n,function(){"up"===t(this).attr("spinner-button")?t.fn.stepper.increase.call(a):t.fn.stepper.decrease.call(a)}).on("mousedown",function(){var s=t(this).attr("spinner-button");t(this).data("timer",setTimeout(function(){i=setInterval(function(){"up"===s?t.fn.stepper.increase.call(a):t.fn.stepper.decrease.call(a)},60)},a.settings.debounce))}).on("mouseup",function(){clearTimeout(t(this).data("timer"))}),t(document).mouseup(function(){clearInterval(i)})};t.fn.stepper.increase=function(){var s=parseFloat(a.call(this)),i=void 0;this.settings=t(this).data("settings");var e=n(this.settings.step),r=s/parseFloat(this.settings.step);i=1!==this.settings.step&&r%1!=0?((Math.floor(r)+1)*parseFloat(this.settings.step)).toFixed(e):(s+parseFloat(this.settings.step)).toFixed(e);var h=t(this).val();o.call(this,i,h)},t.fn.stepper.decrease=function(){var s=parseFloat(a.call(this)),i=void 0;this.settings=t(this).data("settings");var e=n(this.settings.step),r=s/parseFloat(this.settings.step);i=1!==this.settings.step&&r%1!=0?(Math.floor(r)*parseFloat(this.settings.step)).toFixed(e):(s-parseFloat(this.settings.step)).toFixed(e);var h=t(this).val();o.call(this,i,h)};var o=function(s,i){(s<=this.settings.max||void 0===this.settings.max)&&(s>=this.settings.min||void 0===this.settings.min)?(e()?t(this).val(s):t(this).val(s).focus(),h.call(this)):i>this.settings.max?t(this).val(this.settings.max):i<this.settings.min&&t(this).val(this.settings.min)},h=function(t,s,i){var e=void 0;return function(){var n=this,a=arguments,r=function(){e=null,i||t.apply(n,a)},o=i&&!e;clearTimeout(e),e=setTimeout(r,s),o&&t.apply(n,a)}}(function(){t(this).trigger("change")},400);return this.each(function(){var i=this;this.settings=t.extend({step:t(this).is("[step]")?t(this).attr("step"):"1",min:t(this).is("[min]")?parseFloat(t(this).attr("min")):void 0,max:t(this).is("[max]")?parseFloat(t(this).attr("max")):void 0,debounce:t(this).is("[data-stepper-debounce]")?parseInt(t(this).attr("data-stepper-debounce")):400},s),this.init=function(){t(i).data("settings",i.settings),r.call(i)},this.init()})},t('input[type="number"]').stepper()}(jQuery);